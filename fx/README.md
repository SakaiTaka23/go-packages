# Fx

- wireと違ってシングルトンを実現することができる
- 長時間稼働するサーバーアプリケーション向き

## メモ

- `fx.New`の中に必要な依存関係を追加していく
- DIが行われた時やそれが終了する時の挙動も変更することができる
- 他のコンポーネントに参照されている依存物は自動的にDIが行われるが参照されていないものは手動で実行する
  - handler層はそのようになると思う
  - `fx.Invoke`を使う
- fxのデフォルトのログを別のログフレームワークを使うこともできる
- 特定の構造体を特定のインターフェースにバインドすることもできる
  - `fx.Annotate`を使う
- fxでは同じ方のインスタンスがアノテートなしで実現することを許可していない
  - それぞれのインスタンスに名前をつけて注入する際にもその名前を使って注入する
  - 毎回名前をつけていたら複雑になるのでラッパーを作るようにする
